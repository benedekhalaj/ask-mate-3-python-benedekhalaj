<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>List questions</title>
</head>
<body>
    <h1>Questions</h1>
    <p><a href="/add-question">Add new question</a></p>

    <table>
        <tr>
            {% if questions %}
            {% for key in questions[0].keys() %}
                <th>
                    <a href="/list?order_by={{ key }}&order_direction=asc">▲</a>
                    {{  key.replace('_', ' ').capitalize() }}
                    <a href="/list?order_by={{ key }}&order_direction=desc">▼</a>
                </th>
            {% endfor %}
            {% endif %}
        </tr>

        {% for question in questions %}
            <tr>
            {% for key, value in question.items() %}
                {% if key == 'title' %}
                    <td style="text-align: center"><a href="/question/{{ question['id'] }}">{{ value }}</a></td>
                {% else %}
                    <td style="text-align: center">{{ value }}</td>
                {% endif %}
            {% endfor %}
                <td><a href="/question/{{ question['id'] }}/vote_up">Vote up</a></td>
                <td><a href="/question/{{ question['id'] }}/vote_down">Vote down</a></td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>