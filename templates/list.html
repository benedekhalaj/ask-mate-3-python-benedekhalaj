<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>List questions</title>
</head>
<body>
    <h1>Questions</h1>

    <form action="{{ url_for('search_question') }}">
        <label for="search">Search:</label>
        <input id="search" name="q" type="text">
        <button type="submit">Search</button>
    </form>

    <p><a href="/add-question">Add new question</a></p>

    <table>
        <tr>
            {% for title in titles %}
                <th>
                    <a href="/list?order_by={{ title }}&order_direction=asc">▲</a>
                    {{  title.replace('_', ' ').capitalize() }}
                    <a href="/list?order_by={{ title }}&order_direction=desc">▼</a>
                </th>
            {% endfor %}
        </tr>

        {% for question in questions %}
            <tr>
            {% for key, value in question.items() %}
                {% if key == 'title' %}
                    <td style="text-align: center; height: 50px;"><a href="/question/{{ question['id'] }}/view">{{ value }}</a></td>
                {% elif key == 'image' %}
                    <td><a href="{{ value }}" target="_blank"><img src="{{ value }}" style="max-height: 50px;"></a></td>
                {% else %}
                    <td style="text-align: center; height: 50px;">{{ value }}</td>
                {% endif %}
            {% endfor %}
                <td><a href="/question/{{ question['id'] }}/vote_up">Vote up</a></td>
                <td><a href="/question/{{ question['id'] }}/vote_down">Vote down</a></td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>